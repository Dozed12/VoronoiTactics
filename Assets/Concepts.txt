Theme:

Napoleonic era battles with elements of steampunk/dieselpunk and ww1 technology
Very limited armor and tanks (single units)
Chemical Attacks

Battles:

Full on decisive battles after a long time of preparation and manouvering to decide the battleground

Combat Situations:

- 2 units in neighbour tiles.
+ A starts ranged attack on B
+ B starts ranged attack on A
+ Combat ends when one of them retreats/surrenders

- 2 units in neighbour tiles.
+ A starts ranged attack on B
+ B starts ranged attack on A
+ A starts melee attack on B (Takes half the time it would take to move to tile of B before it can start melee)
+ A applies charge attack on B once (Only if A has charge attack)
+ Melee combat between both start
+ Combat ends when one of them retreats/surrenders

- 2 units in neighbour tiles.
+ A starts ranged attack on B
+ B starts ranged attack on A
+ A starts melee attack on B (Takes half the time it would take to move to tile of B before it can start melee)
+ A applies charge attack on B once (Only if A has charge attack)
+ Melee combat between both start
+ B decides to pull back and retreat to another tile
+ A occupies tile of B
+ A continues to apply melee combat to B until B is halfway into retreat tile

- 2 units in neighbour tiles.
+ A starts ranged attack on B
+ B starts ranged attack on A
+ A starts melee attack on B (Takes half the time it would take to move to tile of B before it can start melee)
+ B starts melee attack on A (Takes half the time it would take to move to tile of B before it can start melee)
+ A applies charge attack on B once (Only if A has charge attack)
+ B applies charge attack on A once (Only if A has charge attack)
(Both charges only apply if both prepare the melee attack before the other charge hits)
(Once a charge hits, the other will hit too even if still not arrived at "half the time...")
+ Melee combat between both start
+ B decides to pull back and retreat to another tile
+ A occupies tile of B
+ A continues to apply melee combat to B until B is halfway into retreat tile

- 2 units in neighbour tiles.
+ A starts ranged attack on B
+ B starts ranged attack on A
+ A starts melee attack on B (Takes half the time it would take to move to tile of B before it can start melee)
+ B decides to retreat to another tile before A arrives
+ If B retreats fast enough then no combat occurs.
+ If B is not fast enough then combat occurs but B keeps retreating, and like previously, once halfway to retreat tile it is safe

- 2 units in neighbour tiles.
+ A starts ranged attack on B
+ B starts ranged attack on A
+ A starts melee attack on B (Takes half the time it would take to move to tile of B before it can start melee)
+ B decides to retreat to another tile before A arrives
+ B is not fast enough and combat occurs until B finishes half the retreat
+ B decides to stay and fight in melee cancelling the retreat (Retreat can only be cancelled if less than half was completed)

* If Surrounded by enemies and retreats then it shatters and is captured.
* A man lost is 1 morale point lost
* Max Morale = Current Men ^ 2 / Max Men + Max Men (Inverse Quadratic) (Could express it as percentage)
* Units have Minimum Morale (%), if below that value unit retreats, if Current Max Morale > Max Morale * Minimum Morale unit shatters and disappears completely
* At < Minimum Morale morale a unit retreats to a random vacant or ally(priority to vacant) neighbour. (What happens if it retreats to ally province? Applies the stacking penalties?)
* Weather can affect max morale (some % modifier)
* Seeing a neighbor retreat reduces morale by some % of max morale
* Fatigue always recharging to 100% at a base rate, modified by Fatigue Modifier.
Base Cost = 0.01
Fatigue Recover = Base Cost * (1 - (Fatigue Modifier - 1))
* Fatigue from reloading/marching/running has a base value also modified by Fatigue Modifier.
Base Cost = 0.01 (Will be different based on action)
Fatigue Cost = Base Cost * (1 - (Fatigue Modifier - 1))
* Some estimate of base values relation for fatigue
    - Recovery: 0.001
    - Reload: 0.0015
    - March: 0.002
    - Run: 0.005
* Fatigue has an impact on all actions. Starts at 0% and increases with every action by a base amount modified by Fatigue Modifier.
At 100% it reduces/increases things by 50%.
2% fatigue -> 1% reduction/increase
Reduces attack values, attack accuracy, speed, melee defense
Increases reload time and melee time
* Armor stat indicating how many hits unit needs to be destroyed(To be hit needs to be hit by unit with HardAttack flag, like artillery)
Basically have single or low number of tanks in a unit
Artillery, with HardAttack flag, can bombard these tanks and maybe pennetrate
After N hits a tank is lost
(This implies we can no longer call it "men" but instead something else)
This way we can also have anti-tank guns.
Concept is that an anti-tank regiment needs quite a lot of men and guns to pennetrate a tank(tanks are very heavy, need many hits)
(How do we keep track which tank was hit? Probably just merge all hits in a tank at a time)
(Multi hits dont apply when target has Armor > 0 , "rangedTargets" stat)
* Units with Armor (Original value, just because it lost some armor doesnt mean it can engage in melee) stat greater than 0 can't engage or be engaged in melee(makes no sense to do so)